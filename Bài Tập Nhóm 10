def tinh_o_an_toan(kich_thuoc_ban_co, danh_sach_xe):
    """
    Hàm tính toán logic (giữ nguyên như cũ)
    """
    hang_bi_chiem = set()
    cot_bi_chiem = set()

    for hang, cot in danh_sach_xe:
        hang_bi_chiem.add(hang)
        cot_bi_chiem.add(cot)

    so_hang_an_toan = kich_thuoc_ban_co - len(hang_bi_chiem)
    so_cot_an_toan = kich_thuoc_ban_co - len(cot_bi_chiem)

    return so_hang_an_toan * so_cot_an_toan

print("=== CHƯƠNG TRÌNH TÍNH Ô AN TOÀN TRÊN BÀN CỜ ===")

try:
    # 1. Nhập kích thước n
    n = int(input("1. Nhập kích thước bàn cờ (n): "))

    # 2. Nhập số lượng xe
    so_luong_xe = int(input("2. Bạn muốn đặt bao nhiêu quân xe?: "))

    danh_sach_xe_nhap = []

    # 3. Vòng lặp để nhập toạ độ từng xe
    print("3. Nhập toạ độ cho từng xe (Hàng và Cột cách nhau bởi dấu cách, ví dụ: 2 3)")
    for i in range(so_luong_xe):
        # Đọc chuỗi nhập vào và tách thành list. Ví dụ nhập "2 3" -> ['2', '3']
        chuoi_nhap = input(f"   - Toạ độ xe thứ {i+1}: ")
        
        # Tách chuỗi bằng khoảng trắng
        cac_phan_tu = chuoi_nhap.split() 
        
        # Chuyển đổi sang số nguyên
        hang = int(cac_phan_tu[0])
        cot = int(cac_phan_tu[1])
        
        # Thêm vào danh sách
        danh_sach_xe_nhap.append((hang, cot))

    ket_qua = tinh_o_an_toan(n, danh_sach_xe_nhap)
    
    print("-" * 30)
    print(f"Tổng số ô an toàn là: {ket_qua}")

except ValueError:
    print("Lỗi: Bạn vui lòng nhập đúng định dạng số!")
except IndexError:
    print("Lỗi: Bạn cần nhập đủ cả Hàng và Cột (ví dụ: 2 3)")
